{
  "version": 3,
  "sources": ["../../@nanostores/vue/use-store/index.js", "../../@nanostores/vue/use-v-model/index.js", "../../@nanostores/vue/map-stores/index.js"],
  "sourcesContent": ["import {\r\n  getCurrentInstance,\r\n  getCurrentScope,\r\n  onScopeDispose,\r\n  readonly,\r\n  shallowRef\r\n} from 'vue'\r\n\r\nexport function useStore(store) {\r\n  let state = shallowRef()\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (typeof store === 'function') {\r\n      throw new Error(\r\n        'Use useStore(Template(id)) or useSync() ' +\r\n          'from @logux/client/vue for templates'\r\n      )\r\n    }\r\n  }\r\n\r\n  let unsubscribe = store.subscribe(value => {\r\n    state.value = value\r\n  })\r\n\r\n  getCurrentScope() && onScopeDispose(unsubscribe)\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    let instance = getCurrentInstance()\r\n    if (instance && instance.proxy) {\r\n      let vm = instance.proxy\r\n      let cache = '_nanostores' in vm ? vm._nanostores : (vm._nanostores = [])\r\n      cache.push(store)\r\n    }\r\n    return readonly(state)\r\n  }\r\n  return state\r\n}\r\n", "import { computed } from 'vue'\r\n\r\nimport { useStore } from '../use-store/index.js'\r\n\r\nexport function useVModel(store, keys, opts = {}) {\r\n  let prefix = opts.prefix || 'Model'\r\n  let state = useStore(store)\r\n  if (Array.isArray(keys)) {\r\n    return keys.reduce((reduced, key) => {\r\n      reduced[`${key}${prefix}`] = computed({\r\n        get: () => state.value[key],\r\n        set: value => {\r\n          store.setKey(key, value)\r\n        }\r\n      })\r\n      return reduced\r\n    }, {})\r\n  } else {\r\n    let key = keys\r\n    return computed({\r\n      get: () => (key ? state.value[key] : state.value),\r\n      set: value => {\r\n        key ? store.setKey(key, value) : store.set(value)\r\n      }\r\n    })\r\n  }\r\n}\r\n", "import { useStore } from '../use-store/index.js'\r\n\r\nexport function mapStores(stores) {\r\n  return Object.entries(stores).reduce((reduced, [storeName, store]) => {\r\n    reduced[storeName] = useStore(store)\r\n    return reduced\r\n  }, {})\r\n}\r\n"],
  "mappings": ";;;;;;;;;;AAQO,SAAS,SAAS,OAAO;AAC9B,MAAI,QAAQ,WAAW;AAEvB,MAAI,MAAuC;AACzC,QAAI,OAAO,UAAU,YAAY;AAC/B,YAAM,IAAI;AAAA,QACR;AAAA,MAEF;AAAA,IACF;AAAA,EACF;AAEA,MAAI,cAAc,MAAM,UAAU,WAAS;AACzC,UAAM,QAAQ;AAAA,EAChB,CAAC;AAED,kBAAgB,KAAK,eAAe,WAAW;AAE/C,MAAI,MAAuC;AACzC,QAAI,WAAW,mBAAmB;AAClC,QAAI,YAAY,SAAS,OAAO;AAC9B,UAAI,KAAK,SAAS;AAClB,UAAI,QAAQ,iBAAiB,KAAK,GAAG,cAAe,GAAG,cAAc,CAAC;AACtE,YAAM,KAAK,KAAK;AAAA,IAClB;AACA,WAAO,SAAS,KAAK;AAAA,EACvB;AACA,SAAO;AACT;;;AChCO,SAAS,UAAU,OAAO,MAAM,OAAO,CAAC,GAAG;AAChD,MAAI,SAAS,KAAK,UAAU;AAC5B,MAAI,QAAQ,SAAS,KAAK;AAC1B,MAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,WAAO,KAAK,OAAO,CAAC,SAAS,QAAQ;AACnC,cAAQ,GAAG,MAAM,QAAQ,IAAI,SAAS;AAAA,QACpC,KAAK,MAAM,MAAM,MAAM,GAAG;AAAA,QAC1B,KAAK,WAAS;AACZ,gBAAM,OAAO,KAAK,KAAK;AAAA,QACzB;AAAA,MACF,CAAC;AACD,aAAO;AAAA,IACT,GAAG,CAAC,CAAC;AAAA,EACP,OAAO;AACL,QAAI,MAAM;AACV,WAAO,SAAS;AAAA,MACd,KAAK,MAAO,MAAM,MAAM,MAAM,GAAG,IAAI,MAAM;AAAA,MAC3C,KAAK,WAAS;AACZ,cAAM,MAAM,OAAO,KAAK,KAAK,IAAI,MAAM,IAAI,KAAK;AAAA,MAClD;AAAA,IACF,CAAC;AAAA,EACH;AACF;;;ACxBO,SAAS,UAAU,QAAQ;AAChC,SAAO,OAAO,QAAQ,MAAM,EAAE,OAAO,CAAC,SAAS,CAAC,WAAW,KAAK,MAAM;AACpE,YAAQ,SAAS,IAAI,SAAS,KAAK;AACnC,WAAO;AAAA,EACT,GAAG,CAAC,CAAC;AACP;",
  "names": []
}
